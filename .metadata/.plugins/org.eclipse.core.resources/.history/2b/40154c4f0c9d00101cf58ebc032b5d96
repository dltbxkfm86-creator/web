<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">
	<select id ="login"
			resultType="com.kh.java.member.model.vo.Member"
			parameterType="com.kh.java.member.model.vo.Member">
			
		SELECT
			   USER_NO userNo
			 , USER_ID userId
			 , USER_PWD userPwd
			 , USER_NAME uesrName
			 , EMAIL
			 , ENROLL_DATE enrollDate
			 , MODIFY_DATE modifyDate
			 , STATUS
		  FROM
		  	   MY_MEMBER
		 WHERE		
			   USER_ID = #{userId}
		   AND 
			   USER_PWD = #{userPwd}
		   AND
		       STATUS = 'Y'
	</select>
	
	<update id="update">
		UPDATE
			   KH_MEMBER
		   SET
		       USER_NAME = #{userName}
		     , EMAIL = #{email}
		     , MODIFY_DATE = SYSDATE
		 WHERE
		       USER_NO = #{userNo}
		   AND
		       STATUS = 'Y'
	</update>
	
	<update id="delete">
		UPDATE
			   KH_MEMBER
		   SET
	   		   STATUS = 'N'
	   		 , MODIFY_DATE = SYSDATE
	   	 WHERE
	   	       USER_NO = #{userNo}
	   	   AND
	   	   	   USER_PWD = #{userPwd}
	</update>
</mapper>